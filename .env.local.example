# Local Environment Overrides
# Copy this file to .env.local and modify as needed
# .env.local is git-ignored and will override values from .env

# ===========================================
# PARALLEL DEVELOPMENT INSTANCE EXAMPLE
# ===========================================
# Uncomment the block below to run a local instance alongside the main one
# This uses different external ports to avoid conflicts
# Internal ports stay the same since each Docker stack runs in isolation

# SERVER_PORT=8281
# DB_HOST=localhost
# DB_PORT=5433
# DB_NAME=waugzee_local_dev
# DB_USER=waugzee_local_user
# DB_PASSWORD=waugzee_local_password
# CORS_ALLOW_ORIGINS=http://localhost:3010,http://localhost:3011
# CLIENT_PORT=3011
# VITE_API_URL=http://localhost:8281
# VITE_WS_URL=ws://localhost:8281/ws
# VITE_ENV=local-dev
# DOCKER_ENV=claude                   # Unique Docker environment (containers/volumes/networks)
# SESSION_COOKIE_NAME=sessionID_claude # Unique session cookie name to avoid conflicts

# ===========================================
# INDIVIDUAL OVERRIDE EXAMPLES
# ===========================================

# Example: Override database connection for local development
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=waugzee_local_dev
# DB_USER=waugzee_local_user
# DB_PASSWORD=waugzee_local_password

# Example: Use different cache address for local development  
# DB_CACHE_ADDRESS=localhost

# Example: Override CORS origins for local testing
# CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:3010

# Example: Zitadel OIDC configuration for local development
# ZITADEL_CLIENT_ID=your-client-id
# ZITADEL_INSTANCE_URL=https://your-zitadel-instance.com
# ZITADEL_PRIVATE_KEY=base64-encoded-private-key
# ZITADEL_KEY_ID=your-key-id
# ZITADEL_CLIENT_ID_M2M=your-m2m-client-id

# Example: Client overrides for local development
# VITE_API_URL=http://localhost:8080
# VITE_WS_URL=ws://localhost:8080/ws
# VITE_ENV=local-dev


export DBEE_CONNECTIONS='
[
  {
    "name": "Waugze Dev DB", 
    "type": "postgres", 
    "url": "postgres://{{ env \"DB_USER\" }}:{{ env \"DB_PASSWORD\" }}@{{ env \"DB_HOST\" }}:{{ env \"DB_PORT\" }}/{{ env \"DB_NAME\" }}?sslmode=disable"
  }
]'
